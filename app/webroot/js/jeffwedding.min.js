$(".container ul.nav li a").on("click",function(){$(".container ul.nav li.active").removeClass("active");$(this).parent().addClass("active");HideAllContainers();switch($(this).attr("class")){case"entourage":$("#entourage").show();break;case"registry":$("#registry").show();break;case"home":$("#home").show();break;case"gallery":$("#gallery").show();break}});var giftName="";var giftId="";function clearRegistry(){giftName="";giftId="";$("#GiftGiftname").val("");$("#gift").text("");$("#error_msg").text("");$("#GiftName").val("");$("#GiftEmail").val("");$("#GiftContact").val("")}$("#registry #giftContainer a").on("click",function(){giftName=$(this).text();giftId=$(this).parent().attr("id");$("#rsvp").modal("show")});$("#rsvp").on("show",function(){$("#gift").text("Gift: "+giftName);$("#GiftGiftname").val(giftName)});$("#rsvp").on("hide",function(){clearRegistry()});$("form#GiftDisplayForm").on("submit",function(){if($("#GiftName").val()&&$("#GiftEmail").val()&&$("#GiftContact").val()){$.ajax({async:true,data:$(this).serialize(),success:function(a){var b=JSON.parse(a);console.log(a);if(b.response){$("#"+giftId).html(giftName+" (taken)");$("#rsvp").modal("hide");clearRegistry()}else{$("#error_msg").text(b.error)}},type:"POST",url:"/rsvp"})}else{$("#error_msg").text("Please provide complete information.")}return false});function HideAllContainers(){$("#home").hide();$("#entourage").hide();$("#registry").hide();$("#gallery").hide()}$("#location").on("shown",function(){loadMap(10.32511,123.882061,10.330631,123.88005,"church_map",14)});$("#reception").on("shown",function(){loadMap(10.2979,123.90071,10.2979,123.90071,"reception_map",16)});function loadMap(b,c,g,i,f,h){var d={center:new google.maps.LatLng(b,c),zoom:h,mapTypeId:google.maps.MapTypeId.ROADMAP};var a=new google.maps.Map(document.getElementById(f),d);var e=new google.maps.Marker({position:new google.maps.LatLng(g,i),map:a})}function UpdateTimer(b){var e=b;var d=Math.floor(e/86400);e-=d*86400;var c=Math.floor(e/3600);e-=c*(3600);var a=Math.floor(e/60);e-=a*(60);return((d>0)?d+" Days ":"")+LeadingZero(c)+":"+LeadingZero(a)+":"+LeadingZero(e)}function LeadingZero(a){return(a<10)?"0"+a:+a}$(document).ready(function(){var c=new Date("September 08, 2012 15:30:00 GMT+0800");var b=new Date();if(b<c){var a=new Date(c-b);a=Math.floor(a/1000);setInterval(function(){$("#countDown").html(UpdateTimer(a)+" left");a-=1},1000)}$("#entourage-body").load("entourage.php")});